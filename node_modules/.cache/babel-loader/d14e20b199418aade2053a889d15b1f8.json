{"ast":null,"code":"/*\n * middleware \n * log action when action is dispatched\n * \n*/\nconst pending = {};\nexport const middleware = ({\n  getState,\n  dispatch\n}) => next => action => {\n  if (action.type === 'HOME_SEARCH_TABLE') {\n    const _ref = action.meta || {},\n          debounce = _ref.debounce;\n\n    if (!debounce) {\n      return next(action);\n    }\n\n    if (pending[action.type]) {\n      clearTimeout(pending[action.type]);\n    }\n\n    pending[action.type] = setTimeout(() => {\n      delete pending[action.type];\n      next(action);\n    }, debounce);\n  } else {\n    next(action);\n  }\n};","map":{"version":3,"sources":["/home/kai/react/blog-person/src/middleware/middleware.js"],"names":["pending","middleware","getState","dispatch","next","action","type","meta","debounce","clearTimeout","setTimeout"],"mappings":"AACA;;;;;AAKA,MAAMA,OAAO,GAAG,EAAhB;AACA,OAAO,MAAMC,UAAU,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAAD,KAA4BC,IAAI,IAAIC,MAAM,IAAI;AACpE,MAAIA,MAAM,CAACC,IAAP,KAAgB,mBAApB,EAAyC;AAAA,iBAChBD,MAAM,CAACE,IAAP,IAAe,EADC;AAAA,UAC7BC,QAD6B,QAC7BA,QAD6B;;AAErC,QAAI,CAACA,QAAL,EAAe;AACX,aAAOJ,IAAI,CAACC,MAAD,CAAX;AACH;;AACD,QAAIL,OAAO,CAACK,MAAM,CAACC,IAAR,CAAX,EAA0B;AACtBG,MAAAA,YAAY,CAACT,OAAO,CAACK,MAAM,CAACC,IAAR,CAAR,CAAZ;AACH;;AAEDN,IAAAA,OAAO,CAACK,MAAM,CAACC,IAAR,CAAP,GAAuBI,UAAU,CAAC,MAAM;AACpC,aAAOV,OAAO,CAACK,MAAM,CAACC,IAAR,CAAd;AACAF,MAAAA,IAAI,CAACC,MAAD,CAAJ;AACH,KAHgC,EAG9BG,QAH8B,CAAjC;AAKH,GAdD,MAcO;AACHJ,IAAAA,IAAI,CAACC,MAAD,CAAJ;AACH;AACJ,CAlBM","sourcesContent":["\n/*\n * middleware \n * log action when action is dispatched\n * \n*/\nconst pending = {};\nexport const middleware = ({ getState, dispatch }) => next => action => {\n    if (action.type === 'HOME_SEARCH_TABLE') {\n        const { debounce } = action.meta || {};\n        if (!debounce) {\n            return next(action);\n        }\n        if (pending[action.type]) {\n            clearTimeout(pending[action.type]);\n        }\n\n        pending[action.type] = setTimeout(() => {\n            delete pending[action.type];\n            next(action);\n        }, debounce);\n\n    } else {\n        next(action);\n    }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}